{"version":3,"sources":["../../../../src/snake-game/models/game-state.model.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,CACF,MAAM,CAAC,OAAO,CAAC,CACf,OAAO,CAAC,WAAW,EAAE,gBAAgB,CAAC,CAAC;;AAE5C,SAAS,gBAAgB,CAAC,UAAU,EAAE;AAClC,QAAI,OAAO,GAAG;AACV,aAAK,EAAE,EAAE;AACT,kBAAU,EAAG,CAAC;AACd,aAAK,EAAG,IAAI;AACZ,aAAK,EAAE,KAAK;AACZ,aAAK,EAAE,KAAK;AACZ,cAAM,EAAE,MAAM;AACd,aAAK,EAAE,KAAK;AACZ,sBAAc,EAAE,cAAc;AAC9B,sBAAc,EAAE,cAAc;KACjC,CAAC;;AAEF,QAAI,YAAY,GAAG;AACf,gBAAQ,EAAE,GAAG;AACb,eAAO,EAAE,KAAK;AACd,cAAM,EAAE,KAAK;AACb,eAAO,EAAE,KAAK;AACd,mBAAW,EAAG,CAAC,CAAC,EAAE,CAAC,EAAC,IAAI,CAAC;AACzB,mBAAW,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC;KAC7B,CAAC;;AAEF,WAAO,OAAO,CAAC;;AAEf,aAAS,KAAK,GAAG;AACb,eAAO,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;AAC5C,kBAAU,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAC/B,eAAO,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;KAChC;;AAED,aAAS,KAAK,GAAG;AACb,kBAAU,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAC/B,eAAO,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;KAC/B;;AAED,aAAS,MAAM,GAAG;AACd,kBAAU,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;AAChC,eAAO,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;KAChC;;AAED,aAAS,KAAK,GAAG;AACb,kBAAU,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAC/B,eAAO,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;KAChC;;AAED,aAAS,cAAc,CAAC,WAAW,EAAE;;AAEjC,eAAO,CAAC,KAAK,CAAC,WAAW,GAAG,WAAW,CAAC;KAC3C;AACD,aAAS,cAAc,GAAG;AACtB,eAAO,CAAC,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;AACpE,eAAO,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC;KAEpC;CACJ","file":"game-state.model.es5.js","sourcesContent":["'use strict';\n\nangular\n    .module('snake')\n    .factory('gameState', GameStateFactory);\n\nfunction GameStateFactory($rootScope) {\n    var service = {\n        state: {},\n        levelIndex : 0,\n        level : null,\n        start: start,\n        pause: pause,\n        resume: resume,\n        crash: crash,\n        setNextAdvance: setNextAdvance,\n        getNextAdvance: getNextAdvance\n    };\n\n    var defaultState = {\n        interval: 500, //ms\n        started: false,\n        paused: false,\n        crashed: false,\n        lastAdvance : [0, 0,'up'],\n        nextAdvance: [0, -1, 'up'] //x, y, direction\n    };\n\n    return service;\n\n    function start() {\n        angular.extend(service.state, defaultState);\n        $rootScope.$broadcast('start');\n        service.state.started = true;\n    }\n\n    function pause() {\n        $rootScope.$broadcast('pause');\n        service.state.paused = true;\n    }\n\n    function resume() {\n        $rootScope.$broadcast('resume');\n        service.state.paused = false;\n    }\n\n    function crash() {\n        $rootScope.$broadcast('crash');\n        service.state.crashed = true;\n    }\n\n    function setNextAdvance(nextAdvance) {\n        // service.state.lastAdvance = angular.copy(service.state.nextAdvance);\n        service.state.nextAdvance = nextAdvance;\n    }\n    function getNextAdvance() {\n        service.state.lastAdvance = angular.copy(service.state.nextAdvance);\n        return service.state.nextAdvance;\n        \n    }\n}"]}